<!DOCTYPE html>
<html>
<head>
    <title>Image Color Replacer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <h1>Ganti Warna Gambar</h1>

        <div class="card">
            <p>Tempel URL Gambar:</p>
            <input type="text" id="imageUrl" placeholder="Contoh: https://example.com/daun.png" />
            <button id="loadImage">Muat Gambar</button>
        </div>

        <div class="card">
            <h2>Pratinjau & Pilih Warna Asal</h2>
            <p style="font-size: 0.9em; color: var(--text-color-light);">Klik pada gambar untuk mendapatkan kode Hex warna asal.</p>
            <canvas id="mainImageDisplayCanvas"></canvas>
            <div id="hexCodeDisplay">
                <span id="colorSwatch" class="color-swatch"></span>
                <span id="hexValueText">Klik pada gambar untuk mendapatkan warna.</span>
            </div>
        </div>

        <div class="card">
            <h2>Atur Warna Pengganti</h2>
            <label for="targetColorHex">Warna Asal (yang ingin diganti):</label>
            <input type="text" id="targetColorHex" placeholder="#RRGGBB (cth: #72751B)" value="#72751B">
            
            <label for="replacementColorHex">Warna Pengganti:</label>
            <input type="text" id="replacementColorHex" placeholder="#RRGGBB (cth: #1FAE1B)" value="#1FAE1B">

            <label for="colorTolerance">Toleransi Warna (%):</label>
            <input type="range" id="colorTolerance" min="0" max="100" value="5">
            <span id="toleranceValue">5%</span>
            
            <button id="processColorChange">Ganti Warna</button>
        </div>

        <div class="card">
            <h2>Hasil</h2>
            <canvas id="outputCanvas"></canvas>
            <button id="downloadModifiedImage">Unduh Gambar Hasil</button>
        </div>

    </div>
    <script src="popup.js"></script>
</body>
</html>